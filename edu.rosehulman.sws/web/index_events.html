<!DOCTYPE html>
<html>
<head>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" ></script>	
	<script>
	function getEvents()
	{
		var xmlhttp = new XMLHttpRequest();
		document.getElementById("event_div").innerHTML="Sending...";
		xmlhttp.open("GET","/todayeventscheduler/v1/getEvents",false);
		xmlhttp.send();
		var response = xmlhttp.response;
		response = response.split("HTTP")[0]
		document.getElementById("event_div").innerHTML=response;
		
		/*
		var out = "Events <br/>";
		var json = JSON.parse(response);
		out += json + "<br/>";
		for(var i in json){
			out += json[i].Title+"<br/>";
		}
		out+= "done";
		document.getElementById("event_div").innerHTML=out;
		*/
		
	}
	function openAddDialog()
	{
		var addWindow = window.open("", "MsgWindow", "width=400, height=400");
		addWindow.document.clear();
		addWindow.document.write("<p>Enter the following information to create an event and press submit when finished</p>");
		my_form = document.createElement('FORM');
		my_form.name="addEvent";
		my_form.method="POST";
		my_form.action="/todayeventscheduler/v1/addEvent";
		
		title_label = document.createElement('p');
		title_label.innerhtml = "Title: ";
		my_form.appendChild(title_label);
		
		
		
		my_tb = document.createElement('INPUT');
		my_tb.type = "TEXT";
		my_tb.name="title";
		my_form.appendChild(my_tb);
		
		addWindow.document.appendChild(my_form);
	
	}
	</script>
	
	<style>
		body { 
			background: #000000
		}
		h1{
			background: #990000;
			padding: 10px 10px;
			margin: 20px auto 0px auto;
			width: 50%;
			color:#FFFFFF;
		}
		#content {
			background:#FFFFFF;
			margin: 0px auto 20px auto;
			padding: 10px 10px;
			width:50%;
		}
	</style>
	<title>Events</title>
</head>
<body>
	<h1>Today's Events</h1>
	<div id="content">
		<p>Events:</p>
		
		<div id="event_div" style="padding:20px;">
		</div>
		
		
		<button type="button" onclick="getEvents()">Get Events</button>
		<button type="button" onclick="openAddDialog()">Add Event</button>
	</content>
	
</body>
</html>