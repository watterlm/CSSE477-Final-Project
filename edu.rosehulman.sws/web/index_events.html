<!DOCTYPE html>
<html>
<head>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" ></script>	
	<script>
	function getEvents()
	{
		var xmlhttp = new XMLHttpRequest();
		document.getElementById("event_div").innerHTML="Sending...";
		xmlhttp.open("GET","/todayeventscheduler/v1/getEvents",false);
		xmlhttp.send();
		var response = xmlhttp.response;
		response = response.split("HTTP")[0]
		document.getElementById("event_div").innerHTML=response;
		
	}
	function searchEvent(){
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.open("GET","/todayeventscheduler/v1/search",false);
		var search = $('#searchterm').val();
		xmlhttp.setRequestHeader("searchterm",search );
		xmlhttp.send();
		var response = xmlhttp.response;
		response = response.split("HTTP")[0]
		document.getElementById("event_div").innerHTML=response;
	}
	
	function addEvent(){
	    var title = document.getElementById("title");
	    var time = document.getElementById("time");
	    var day = document.getElementById("day");
	    var location = document.getElementById("location");
	    var host = document.getElementById("host");
	    var xmlhttp = new XMLHttpRequest();
		xmlhttp.open("POST","/todayeventscheduler/v1/addEvent",false);
		xmlhttp.send("title=title&time=time&day=day&location=location&host=host");
		var response = xmlhttp.response;
		response = response.split("HTTP")[0]
	}	
	</script>
	
	<style>
		body { 
			background: #000000
		}
		h1{
			background: #990000;
			padding: 10px 10px;
			margin: 20px auto 0px auto;
			width: 50%;
			color:#FFFFFF;
		}
		#content {
			background:#FFFFFF;
			margin: 0px auto 20px auto;
			padding: 10px 10px;
			width:50%;
		}
	</style>
	<title>Events</title>
</head>
<body>
	<h1>Today's Events</h1>
	<div id="content">
		<p>Events:</p>
		
		<div id="event_div" style="padding:20px">
		</div>
		<button type="button" onclick="getEvents()">Get Events</button>

		<div id="add_div" style="margin-top:10px; padding:20px;">
			Title: <input type="text" id="title"/> <br /><br />
			Time: <input type="text" id="time"/> <br /><br />				
			Day: <input type="text" id="date"/> <br /><br />
			Location: <input type="text" id="location"/> <br /><br />
			Host: <input type="text" id="host"/> <br /><br />
		</div>
		<button type="button" onclick="addEvent()">Add Event</button>
		<div style="padding:20px">
		</div>
		<div>
			Search: <input type="text" id="searchterm"><br/>
		</div>
		<button type="button" onclick="searchEvent()">Search Event</button>
	</content>
	
</body>
</html>